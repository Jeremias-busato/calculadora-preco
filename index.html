function calcularPreco(custo) {
    const precos = [
        { custo: 5, preco: 18 }, { custo: 10, preco: 35 }, { custo: 20, preco: 67 }, { custo: 50, preco: 167 },
        { custo: 100, preco: 247 }, { custo: 200, preco: 387 }, { custo: 400, preco: 467 }, { custo: 1000, preco: 1387 },
        { custo: 3000, preco: 4087 }, { custo: 7000, preco: 8887 }, { custo: 10000, preco: 12287 }
    ];

    for (let i = 0; i < precos.length - 1; i++) {
        if (custo >= precos[i].custo && custo < precos[i + 1].custo) {
            let margem = (precos[i + 1].preco - precos[i].preco) / (precos[i + 1].custo - precos[i].custo);
            let precoCheio = precos[i].preco + margem * (custo - precos[i].custo);
            precoCheio = Math.round(precoCheio / 10) * 10 + 7;

            let margemAtual = ((precoCheio - custo) / custo) * 100;
            let novaMargem = margemAtual * 0.9; 
            let precoReduzido = custo * (1 + novaMargem / 100);
            precoReduzido = Math.round(precoReduzido / 10) * 10 + 7;

            return { precoCheio, precoReduzido, margemAtual: margemAtual.toFixed(2) };
        }
    }
    return null;
}

function calcular() {
    let custo = parseFloat(document.getElementById("custo").value);
    let resultado = calcularPreco(custo);
    if (resultado) {
        document.getElementById("precoCheio").innerText = `Preço Cheio: R$ ${resultado.precoCheio.toFixed(2)}`;
        document.getElementById("precoReduzido").innerText = `Preço Reduzido (-10% margem): R$ ${resultado.precoReduzido.toFixed(2)}`;
        document.getElementById("margem").innerText = `Margem aplicada: ${resultado.margemAtual}%`;
    } else {
        document.getElementById("precoCheio").innerText = "Custo fora da faixa configurada.";
        document.getElementById("precoReduzido").innerText = "";
        document.getElementById("margem").innerText = "";
    }
}
